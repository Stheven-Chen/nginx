import{j as g,g as V,r as v,h as q,u as G,l as M}from"./index-85e0cf12.js";import{I as F}from"./input-e1590388.js";import{u as B}from"./useDispatch-0515d7d3.js";const Y=e=>{const{text:n,buttonWidth:i,buttonColor:r,buttonHeight:t}=e,s=`${i} ${r} ${t} text-white  font-Poppins font-semibold py-2 text-center mt-10 rounded-full transition-transform duration-300 transform-gpu active:scale-90`;return g.jsx("button",{onClick:e.onClick,className:s,children:n})};var H={exports:{}},J="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",K=J,Q=K;function W(){}function z(){}z.resetWarningCache=W;var X=function(){function e(r,t,s,y,x,m){if(m!==Q){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function n(){return e}var i={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:n,element:e,elementType:e,instanceOf:n,node:e,objectOf:n,oneOf:n,oneOfType:n,shape:n,exact:n,checkPropTypes:z,resetWarningCache:W};return i.PropTypes=i,i};H.exports=X();var Z=H.exports;const p=V(Z);var ee=["sitekey","onChange","theme","type","tabindex","onExpired","onErrored","size","stoken","grecaptcha","badge","hl","isolated"];function C(){return C=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},C.apply(this,arguments)}function te(e,n){if(e==null)return{};var i={},r=Object.keys(e),t,s;for(s=0;s<r.length;s++)t=r[s],!(n.indexOf(t)>=0)&&(i[t]=e[t]);return i}function R(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function re(e,n){e.prototype=Object.create(n.prototype),e.prototype.constructor=e,j(e,n)}function j(e,n){return j=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,t){return r.__proto__=t,r},j(e,n)}var L=function(e){re(n,e);function n(){var r;return r=e.call(this)||this,r.handleExpired=r.handleExpired.bind(R(r)),r.handleErrored=r.handleErrored.bind(R(r)),r.handleChange=r.handleChange.bind(R(r)),r.handleRecaptchaRef=r.handleRecaptchaRef.bind(R(r)),r}var i=n.prototype;return i.getCaptchaFunction=function(t){return this.props.grecaptcha?this.props.grecaptcha.enterprise?this.props.grecaptcha.enterprise[t]:this.props.grecaptcha[t]:null},i.getValue=function(){var t=this.getCaptchaFunction("getResponse");return t&&this._widgetId!==void 0?t(this._widgetId):null},i.getWidgetId=function(){return this.props.grecaptcha&&this._widgetId!==void 0?this._widgetId:null},i.execute=function(){var t=this.getCaptchaFunction("execute");if(t&&this._widgetId!==void 0)return t(this._widgetId);this._executeRequested=!0},i.executeAsync=function(){var t=this;return new Promise(function(s,y){t.executionResolve=s,t.executionReject=y,t.execute()})},i.reset=function(){var t=this.getCaptchaFunction("reset");t&&this._widgetId!==void 0&&t(this._widgetId)},i.forceReset=function(){var t=this.getCaptchaFunction("reset");t&&t()},i.handleExpired=function(){this.props.onExpired?this.props.onExpired():this.handleChange(null)},i.handleErrored=function(){this.props.onErrored&&this.props.onErrored(),this.executionReject&&(this.executionReject(),delete this.executionResolve,delete this.executionReject)},i.handleChange=function(t){this.props.onChange&&this.props.onChange(t),this.executionResolve&&(this.executionResolve(t),delete this.executionReject,delete this.executionResolve)},i.explicitRender=function(){var t=this.getCaptchaFunction("render");if(t&&this._widgetId===void 0){var s=document.createElement("div");this._widgetId=t(s,{sitekey:this.props.sitekey,callback:this.handleChange,theme:this.props.theme,type:this.props.type,tabindex:this.props.tabindex,"expired-callback":this.handleExpired,"error-callback":this.handleErrored,size:this.props.size,stoken:this.props.stoken,hl:this.props.hl,badge:this.props.badge,isolated:this.props.isolated}),this.captcha.appendChild(s)}this._executeRequested&&this.props.grecaptcha&&this._widgetId!==void 0&&(this._executeRequested=!1,this.execute())},i.componentDidMount=function(){this.explicitRender()},i.componentDidUpdate=function(){this.explicitRender()},i.handleRecaptchaRef=function(t){this.captcha=t},i.render=function(){var t=this.props;t.sitekey,t.onChange,t.theme,t.type,t.tabindex,t.onExpired,t.onErrored,t.size,t.stoken,t.grecaptcha,t.badge,t.hl,t.isolated;var s=te(t,ee);return v.createElement("div",C({},s,{ref:this.handleRecaptchaRef}))},n}(v.Component);L.displayName="ReCAPTCHA";L.propTypes={sitekey:p.string.isRequired,onChange:p.func,grecaptcha:p.object,theme:p.oneOf(["dark","light"]),type:p.oneOf(["image","audio"]),tabindex:p.number,onExpired:p.func,onErrored:p.func,size:p.oneOf(["compact","normal","invisible"]),stoken:p.string,hl:p.string,badge:p.oneOf(["bottomright","bottomleft","inline"]),isolated:p.bool};L.defaultProps={onChange:function(){},theme:"light",type:"image",tabindex:0,size:"normal",badge:"bottomright"};function E(){return E=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},E.apply(this,arguments)}function ne(e,n){if(e==null)return{};var i={},r=Object.keys(e),t,s;for(s=0;s<r.length;s++)t=r[s],!(n.indexOf(t)>=0)&&(i[t]=e[t]);return i}function ie(e,n){e.prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n}var f={},oe=0;function ae(e,n){return n=n||{},function(r){var t=r.displayName||r.name||"Component",s=function(x){ie(m,x);function m(c,a){var o;return o=x.call(this,c,a)||this,o.state={},o.__scriptURL="",o}var u=m.prototype;return u.asyncScriptLoaderGetScriptLoaderID=function(){return this.__scriptLoaderID||(this.__scriptLoaderID="async-script-loader-"+oe++),this.__scriptLoaderID},u.setupScriptURL=function(){return this.__scriptURL=typeof e=="function"?e():e,this.__scriptURL},u.asyncScriptLoaderHandleLoad=function(a){var o=this;this.setState(a,function(){return o.props.asyncScriptOnLoad&&o.props.asyncScriptOnLoad(o.state)})},u.asyncScriptLoaderTriggerOnScriptLoaded=function(){var a=f[this.__scriptURL];if(!a||!a.loaded)throw new Error("Script is not loaded.");for(var o in a.observers)a.observers[o](a);delete window[n.callbackName]},u.componentDidMount=function(){var a=this,o=this.setupScriptURL(),d=this.asyncScriptLoaderGetScriptLoaderID(),l=n,T=l.globalName,O=l.callbackName,k=l.scriptId;if(T&&typeof window[T]<"u"&&(f[o]={loaded:!0,observers:{}}),f[o]){var w=f[o];if(w&&(w.loaded||w.errored)){this.asyncScriptLoaderHandleLoad(w);return}w.observers[d]=function(h){return a.asyncScriptLoaderHandleLoad(h)};return}var N={};N[d]=function(h){return a.asyncScriptLoaderHandleLoad(h)},f[o]={loaded:!1,observers:N};var b=document.createElement("script");b.src=o,b.async=!0;for(var A in n.attributes)b.setAttribute(A,n.attributes[A]);k&&(b.id=k);var U=function(_){if(f[o]){var $=f[o],S=$.observers;for(var D in S)_(S[D])&&delete S[D]}};O&&typeof window<"u"&&(window[O]=function(){return a.asyncScriptLoaderTriggerOnScriptLoaded()}),b.onload=function(){var h=f[o];h&&(h.loaded=!0,U(function(_){return O?!1:(_(h),!0)}))},b.onerror=function(){var h=f[o];h&&(h.errored=!0,U(function(_){return _(h),!0}))},document.body.appendChild(b)},u.componentWillUnmount=function(){var a=this.__scriptURL;if(n.removeOnUnmount===!0)for(var o=document.getElementsByTagName("script"),d=0;d<o.length;d+=1)o[d].src.indexOf(a)>-1&&o[d].parentNode&&o[d].parentNode.removeChild(o[d]);var l=f[a];l&&(delete l.observers[this.asyncScriptLoaderGetScriptLoaderID()],n.removeOnUnmount===!0&&delete f[a])},u.render=function(){var a=n.globalName,o=this.props;o.asyncScriptOnLoad;var d=o.forwardedRef,l=ne(o,["asyncScriptOnLoad","forwardedRef"]);return a&&typeof window<"u"&&(l[a]=typeof window[a]<"u"?window[a]:void 0),l.ref=d,v.createElement(r,l)},m}(v.Component),y=v.forwardRef(function(x,m){return v.createElement(s,E({},x,{forwardedRef:m}))});return y.displayName="AsyncScriptLoader("+t+")",y.propTypes={asyncScriptOnLoad:p.func},q(y,r)}}var P="onloadcallback",se="grecaptcha";function I(){return typeof window<"u"&&window.recaptchaOptions||{}}function ce(){var e=I(),n=e.useRecaptchaNet?"recaptcha.net":"www.google.com";return e.enterprise?"https://"+n+"/recaptcha/enterprise.js?onload="+P+"&render=explicit":"https://"+n+"/recaptcha/api.js?onload="+P+"&render=explicit"}const de=ae(ce,{callbackName:P,globalName:se,attributes:I().nonce?{nonce:I().nonce}:{}})(L),pe="/assets/login-a2b14632.svg",fe=()=>{const[e,n]=v.useState(""),[i,r]=v.useState(""),t=B(),s=G(),[y,x]=v.useState(!1),m=async()=>{if(!y){alert("Please verify CAPTCHA!");return}try{const a=await(await fetch("https://agentserver.stheven.website/users",{headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"}})).json(),o=e.trim(),d=a.find(l=>l.user===o);d||alert("Username atau Password Salah"),d.pass!==i?alert("Username atau Password Salah"):(t(M({username:e,nama:d.nama})),s("/home"))}catch(c){console.error(c)}},u=()=>{x(!0)};return g.jsxs("div",{className:"min-h-screen overflow-x-hidden bg-login flex p-2 lg:p-4 flex-col items-center justify-center",children:[g.jsx("img",{src:pe,alt:"login",className:"mx-auto mb-5 lg:mt-5 max-w-full w-full lg:w-1/3 h-auto"}),g.jsxs("div",{className:"rounded-xl bg-gray-400 w-10/12 max-w-sm h-72 p-3",children:[g.jsx("span",{className:"text-white text-2xl font-bold font-Poppins",children:"Welcome"}),g.jsx(F,{placeholder:"Input Username",isPassword:!1,value:e,onChange:c=>n(c.target.value),additionalStyles:"rounded-full bg-gray-600 text-white text-center"}),g.jsx(F,{placeholder:"Password",isPassword:!0,value:i,onChange:c=>r(c.target.value),additionalStyles:"rounded-full bg-gray-600 text-white text-center"}),g.jsx(Y,{text:"Login",buttonWidth:"w-full",buttonColor:"bg-sky-600",buttonHeight:"h-18",onClick:m})]}),g.jsx("div",{className:"w-full mt-5",children:g.jsx("div",{className:"flex justify-center flex-col items-center mb-2",children:g.jsx(de,{sitekey:"6Le04pcmAAAAAF8_5HoD8FTJ61lpfYhwaYcCv4zs",onChange:u})})})]})};export{fe as default};
