import{j as s,a as N,r as i}from"./index-85e0cf12.js";import{N as w,M as b,T as g}from"./mainBox-cd6b68eb.js";import{F as $}from"./fab-0ebbc665.js";import{f as x}from"./formatcurrency-03c19d79.js";import"./useDispatch-0515d7d3.js";const p="/assets/arrow-dcb5e799.svg",k=({newData:l,modal:o,showModal:r,setShowModal:c})=>s.jsx(s.Fragment,{children:l.map((e,t)=>s.jsxs("div",{className:"w-full lg:w-9/12 flex flex-col justify-center bg-white shadow-md rounded-lg p-3 my-3 h-1/5",children:[s.jsxs("div",{className:"grid grid-cols-2",children:[s.jsx("span",{children:e.addedDate}),s.jsx("span",{className:"text-end",children:e.COB}),s.jsx("span",{children:e.insuredName}),s.jsx("span",{className:"text-end",children:e.polis}),s.jsx("span",{className:"",children:e.type}),s.jsx("span",{className:"text-end",children:e.status})]}),s.jsx("img",{className:"h-5 w-5 self-center",onClick:()=>o(t),src:p,alt:"arrow"}),r===t&&(e.COB==="MV"?s.jsx("div",{className:"fixed top-0 left-0 font-Poppins w-screen h-screen z-50 bg-black bg-opacity-50 flex items-center justify-center",children:s.jsxs("div",{className:"w-11/12 h-3/4 overflow-y-auto lg:w-9/12 bg-white rounded-xl p-4 flex flex-col",children:[s.jsx("span",{className:"w-full text-center text-xl font-semibold",children:e.insuredName}),s.jsx("span",{className:"w-full mt-5 text-start text-base",children:`NIK: ${e.NIK}`}),s.jsx("span",{className:"w-full text-start text-base",children:`Phone: ${e.phone}`}),s.jsx("span",{className:"w-full text-start text-base",children:`Email: ${e.email}`}),s.jsx("span",{className:"w-full text-start text-base",children:"Alamat:"}),s.jsx("span",{className:"w-full text-start text-base",children:`${e.address}`}),s.jsx("span",{className:"w-full text-start text-base",children:`COB: ${e.COB}`}),s.jsx("span",{children:" "}),s.jsx("span",{className:"w-full text-start text-base",children:`Okupasi: ${e.okupasi}`}),s.jsx("span",{className:"w-full text-start text-base",children:`TSI: ${x(e.tsi.toString())}`}),s.jsx("span",{className:"w-full text-start text-base",children:`Pertanggungan: ${e.polis}`}),s.jsx("span",{className:"w-full text-start text-base",children:`Periode: ${e.periode}`}),s.jsx("span",{className:"w-full text-start text-base",children:`Merek: ${e.merek}`}),s.jsx("span",{className:"w-full text-start text-base",children:`Model: ${e.model}`}),s.jsx("span",{className:"w-full text-start text-base",children:`No Polisi: ${e.plat}`}),s.jsx("span",{className:"w-full text-start text-base",children:`No Mesin: ${e.mesin}`}),s.jsx("span",{className:"w-full text-start text-base",children:`No rangka: ${e.rangka}`}),s.jsx("span",{className:"w-full text-start text-base",children:`Perluasan: ${e.perluasan.map(a=>a).join(" || ").toUpperCase()}`}),s.jsx("span",{className:"w-full text-start text-base",children:`Potential Premi: ${x(e.potentialPremi.toString())}`}),s.jsx("img",{src:e.sign,alt:"sign",className:"border-solid border-gray-400 border-2 shadow-md rounded-xl mt-5"}),s.jsx("button",{className:"text-sky-600 text-lg font-medium transition-transform transform-gpu duration-300 active:scale-90",onClick:()=>c(-1),children:"Close"})]})}):s.jsx("div",{className:"fixed top-0 left-0 font-Poppins w-screen h-screen z-50 bg-black bg-opacity-50 flex items-center justify-center",children:s.jsxs("div",{className:"w-11/12 h-3/4 overflow-y-auto lg:w-9/12 bg-white rounded-xl p-4 flex flex-col",children:[s.jsx("span",{className:"w-full text-center text-xl font-semibold",children:e.insuredName}),s.jsx("span",{className:"w-full mt-5 text-start text-base",children:`NIK: ${e.NIK}`}),s.jsx("span",{className:"w-full text-start text-base",children:`Phone: ${e.phone}`}),s.jsx("span",{className:"w-full text-start text-base",children:`Email: ${e.email}`}),s.jsx("span",{className:"w-full text-start text-base",children:"Alamat Objek Pertanggungan:"}),s.jsx("span",{className:"w-full text-start text-base",children:`${e.alamatObj}`}),s.jsx("span",{className:"w-full text-start text-base",children:`COB: ${e.COB}`}),s.jsx("span",{children:" "}),s.jsx("span",{className:"w-full text-start text-base",children:`Okupasi: ${e.okupasi}`}),s.jsx("span",{className:"w-full text-start text-base",children:`Rate: ${`${parseFloat(e.rate)*1e3}‰`}`}),s.jsx("span",{className:"w-full text-start text-base",children:`Bangunan: ${x(e.bangunan.toString())}`}),s.jsx("span",{className:"w-full text-start text-base",children:`Content: ${x(e.content.toString())}`}),s.jsx("span",{className:"w-full text-start text-base",children:`TSI: ${x(e.tsi.toString())}`}),s.jsx("span",{className:"w-full text-start text-base",children:`Pertanggungan: ${e.polis}`}),s.jsx("span",{className:"w-full text-start text-base",children:`Periode: ${e.periode}`}),s.jsx("span",{className:"w-full text-start text-base",children:"Surrounding Risk:"}),s.jsxs("table",{className:"w-full text-start text-base",children:[s.jsxs("tr",{className:"text-start",children:[s.jsx("th",{children:"Arah"}),s.jsx("th",{children:"Okupasi"}),s.jsx("th",{children:"Jarak"})]}),e.sr.map((a,d)=>s.jsxs("tr",{className:"text-sm",children:[s.jsx("td",{children:a.arah}),s.jsx("td",{children:a.okupasisr}),s.jsx("td",{children:`${a.jarak}m`})]},d))]}),s.jsx("span",{className:"w-full text-start text-base",children:`Perluasan: ${e.perluasan.map(a=>a).join(" || ").toUpperCase()}`}),s.jsx("span",{className:"w-full text-start text-base",children:`Potential Premi: ${x(e.potentialPremi.toString())}`}),s.jsx("img",{src:e.sign,alt:"sign",className:"border-solid border-gray-400 border-2 shadow-md rounded-xl mt-5"}),s.jsx("button",{className:"text-sky-600 text-lg pt-3 font-medium transition-transform transform-gpu duration-300 active:scale-90",onClick:()=>c(-1),children:"Close"})]})}))]},t))}),y=({klaimData:l,modalK:o,setShowModalK:r,showModalK:c})=>s.jsx(s.Fragment,{children:l.map((e,t)=>s.jsxs("div",{className:"w-full flex flex-col lg:w-9/12 justify-center bg-white shadow-md rounded-lg p-3 my-3 h-1/5",children:[s.jsxs("div",{className:"grid grid-cols-2",children:[s.jsx("span",{children:e.addedDate}),s.jsx("span",{className:"text-end",children:e.COB}),s.jsx("span",{children:e.insuredName}),s.jsx("span",{className:"text-end",children:e.polis}),s.jsx("span",{className:"",children:e.type}),s.jsx("span",{className:"text-end",children:e.status})]}),s.jsx("img",{className:"h-5 w-5 self-center",onClick:()=>o(t),src:p,alt:"arrow"}),c===t&&s.jsx("div",{className:"fixed top-0 left-0 font-Poppins w-screen h-screen z-50 bg-black bg-opacity-50 flex items-center justify-center",children:s.jsxs("div",{className:"w-11/12 lg:w-9/12 bg-white rounded-xl p-4 flex flex-col",children:[s.jsx("span",{className:"w-full text-center text-xl font-semibold",children:e.insuredName}),s.jsx("span",{className:"w-full mt-5 text-start text-base",children:`No Polis: ${e.nPolis}`}),s.jsx("span",{className:"w-full text-start text-base",children:`COB: ${e.COB}`}),s.jsx("span",{className:"w-full text-start text-base",children:`Pertanggungan: ${e.polis}`}),s.jsx("span",{className:"w-full text-start text-base",children:`Okupasi: ${e.okupasi}`}),s.jsx("span",{className:"w-full text-start text-base",children:`Date of Loss : ${e.dol}`}),s.jsx("span",{className:"w-full text-start text-base",children:"Keterangan:"}),s.jsx("span",{className:"w-full text-start text-base",children:" "}),s.jsx("textarea",{className:"w-full h-40 border-solid border-2 rounded-xl p-1 border-gray-300 text-start text-base overflow-y-auto",defaultValue:e.kronologi}),s.jsx("button",{className:"text-sky-600 text-lg mt-2 font-medium transition-transform transform-gpu duration-300 active:scale-90",onClick:()=>r(-1),children:"Close"})]})})]},t))}),B=()=>{const{username:l}=N(n=>n.username),[o,r]=i.useState(-1),[c,e]=i.useState(-1),[t,a]=i.useState([]),[d,u]=i.useState([]);i.useEffect(()=>{(async()=>{try{const h=await(await fetch(`https://agentserver.stheven.website/${l}/list`)).json();a(h)}catch(m){throw m}})()},[l]),i.useEffect(()=>{(async()=>{try{const h=await(await fetch(`https://agentserver.stheven.website/${l}/listklaim`)).json();u(h)}catch(m){throw m}})()},[l]),console.log(t);const f=n=>{r(n)},j=n=>{e(n)};return s.jsxs(s.Fragment,{children:[s.jsx(w,{}),s.jsx(b,{content:s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"text-xl font-semibold",children:"Application List"}),t.length>0||d.length>0?s.jsxs(s.Fragment,{children:[s.jsx(k,{modal:f,showModal:o,setShowModal:r,newData:t}),s.jsx(y,{klaimData:d,modalK:j,setShowModalK:e,showModalK:c})]}):s.jsx("div",{className:"flex justify-center items-center w-full",children:s.jsx("span",{className:"font-Poppins font-semibold text-2xl",children:"No List"})}),s.jsx($,{})]})}),s.jsx(g,{})]})};export{B as default};
